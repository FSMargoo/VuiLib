\hypertarget{vssparser_8h_source}{}\doxysection{vssparser.\+h}
\label{vssparser_8h_source}\index{G:/VueLib/vuilib-\/cmake/include/vss/vssparser.h@{G:/VueLib/vuilib-\/cmake/include/vss/vssparser.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include "{}../kits/seal.lexical.h"{}}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}../kits/vparserhelper.h"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}../kits/vcolorhelper.h"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}../core/render/vcolor.h"{}}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 VLIB\_BEGIN\_NAMESPACE}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{namespace }VSS \{}
\DoxyCodeLine{15     \textcolor{keyword}{enum class} VVVSParserParseMode \{}
\DoxyCodeLine{16         FromFile, FromString}
\DoxyCodeLine{17     \};}
\DoxyCodeLine{18     \textcolor{keyword}{enum class} VVVSParserStatus \{}
\DoxyCodeLine{19         Error, Ok}
\DoxyCodeLine{20     \};}
\DoxyCodeLine{21 }
\DoxyCodeLine{22     \textcolor{keyword}{enum class} VSSPropertyType \{}
\DoxyCodeLine{23         IntValue, StringValue, BooleanValue, DoubleValue, ColorValue}
\DoxyCodeLine{24     \};}
\DoxyCodeLine{25 }
\DoxyCodeLine{26     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_v_s_s_1_1_v_s_s_property_value}{VSSPropertyValue}} \{}
\DoxyCodeLine{27         VSSPropertyType Type            = VSSPropertyType::IntValue;}
\DoxyCodeLine{28 }
\DoxyCodeLine{29         \mbox{\hyperlink{class_core_1_1_v_color}{Core::VColor}}     PropertyAsColorValue;}
\DoxyCodeLine{30         \textcolor{keywordtype}{int}              PropertyAsInt    = 0;}
\DoxyCodeLine{31         std::wstring     PropertyAsString = L\textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{32         \textcolor{keywordtype}{double}           PropertyAsDouble = 0.f;}
\DoxyCodeLine{33         \textcolor{keywordtype}{bool}             PropertyAsBool   = \textcolor{keyword}{false};}
\DoxyCodeLine{34     \};}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_v_s_s_1_1_v_s_s_selector_property}{VSSSelectorProperty}} \{}
\DoxyCodeLine{37         std::wstring                                PropertyTag;}
\DoxyCodeLine{38         std::vector<VSSPropertyValue>               ValueList;}
\DoxyCodeLine{39     \};}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{keyword}{enum class} VSSSelectorType \{}
\DoxyCodeLine{42         UnkownSelector, ElementSelector, IDSelector, ClassSelector, FakeClassSelector, ClassWithFakeClassSelector,}
\DoxyCodeLine{43         GenericSelector, FakeElementSelector, FakeElementWithClassSelector, ClassWithFakeElementSelector, ClassWithFakeClassAndFakeElementSelector}
\DoxyCodeLine{44     \};}
\DoxyCodeLine{45 }
\DoxyCodeLine{46     \textcolor{keyword}{class  }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{47     \textcolor{keyword}{public}:}
\DoxyCodeLine{48         std::map<std::wstring, VSSSelectorProperty> SelectorProperty;}
\DoxyCodeLine{49 }
\DoxyCodeLine{50         \textcolor{keyword}{virtual} VSSSelectorType GetType() \{}
\DoxyCodeLine{51             \textcolor{keywordflow}{return} VSSSelectorType::UnkownSelector;}
\DoxyCodeLine{52         \}}
\DoxyCodeLine{53 }
\DoxyCodeLine{54         \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}}() \{  \}}
\DoxyCodeLine{55     \};}
\DoxyCodeLine{56     \textcolor{keyword}{class  }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_element_selector}{VSSElementSelector}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{57     \textcolor{keyword}{public}:}
\DoxyCodeLine{58         std::wstring ElementTag;}
\DoxyCodeLine{59 }
\DoxyCodeLine{60         VSSSelectorType GetType()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{61             \textcolor{keywordflow}{return} VSSSelectorType::ElementSelector;}
\DoxyCodeLine{62         \}}
\DoxyCodeLine{63     \};}
\DoxyCodeLine{64     \textcolor{keyword}{class  }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_i_d_selector}{VSSIDSelector}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{65     \textcolor{keyword}{public}:}
\DoxyCodeLine{66         std::wstring IDTag;}
\DoxyCodeLine{67 }
\DoxyCodeLine{68         VSSSelectorType GetType()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{69             \textcolor{keywordflow}{return} VSSSelectorType::IDSelector;}
\DoxyCodeLine{70         \}}
\DoxyCodeLine{71     \};}
\DoxyCodeLine{72     \textcolor{keyword}{class  }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_class_selector}{VSSClassSelector}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{73     \textcolor{keyword}{public}:}
\DoxyCodeLine{74         std::wstring ClassTag;}
\DoxyCodeLine{75         std::wstring TargetElement;}
\DoxyCodeLine{76 }
\DoxyCodeLine{77         VSSSelectorType GetType()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{78             \textcolor{keywordflow}{return} VSSSelectorType::ClassSelector;}
\DoxyCodeLine{79         \}}
\DoxyCodeLine{80     \};}
\DoxyCodeLine{81     \textcolor{keyword}{class  }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_fake_class_selector}{VSSFakeClassSelector}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{82     \textcolor{keyword}{public}:}
\DoxyCodeLine{83         std::wstring ElementTag;}
\DoxyCodeLine{84         std::wstring ClassTag;}
\DoxyCodeLine{85 }
\DoxyCodeLine{86         VSSSelectorType GetType()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{87             \textcolor{keywordflow}{return} VSSSelectorType::FakeClassSelector;}
\DoxyCodeLine{88         \}}
\DoxyCodeLine{89     \};}
\DoxyCodeLine{90     \textcolor{keyword}{class  }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_class_with_fake_class_selector}{VSSClassWithFakeClassSelector}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{91     \textcolor{keyword}{public}:}
\DoxyCodeLine{92         std::wstring ClassTag;}
\DoxyCodeLine{93         std::wstring ElementTag;}
\DoxyCodeLine{94         std::wstring FakeClassTag;}
\DoxyCodeLine{95 }
\DoxyCodeLine{96         VSSSelectorType GetType()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{97             \textcolor{keywordflow}{return} VSSSelectorType::ClassWithFakeClassSelector;}
\DoxyCodeLine{98         \}}
\DoxyCodeLine{99     \};}
\DoxyCodeLine{100     \textcolor{keyword}{class  }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_class_with_fake_element_selector}{VSSClassWithFakeElementSelector}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{101     \textcolor{keyword}{public}:}
\DoxyCodeLine{102         std::wstring ElementTag;}
\DoxyCodeLine{103         std::wstring ClassTag;}
\DoxyCodeLine{104 }
\DoxyCodeLine{105         VSSSelectorType GetType()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{106             \textcolor{keywordflow}{return} VSSSelectorType::ClassWithFakeElementSelector;}
\DoxyCodeLine{107         \}}
\DoxyCodeLine{108     \};}
\DoxyCodeLine{109     \textcolor{keyword}{class  }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_class_with_fake_class_and_fake_element_selector}{VSSClassWithFakeClassAndFakeElementSelector}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{110     \textcolor{keyword}{public}:}
\DoxyCodeLine{111         std::wstring FakeElementTag;}
\DoxyCodeLine{112         std::wstring FakeClassTag;}
\DoxyCodeLine{113         std::wstring ClassTag;}
\DoxyCodeLine{114 }
\DoxyCodeLine{115         VSSSelectorType GetType()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{116             \textcolor{keywordflow}{return} VSSSelectorType::ClassWithFakeClassAndFakeElementSelector;}
\DoxyCodeLine{117         \}}
\DoxyCodeLine{118     \};}
\DoxyCodeLine{119     \textcolor{keyword}{class  }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_generic_selector}{VSSGenericSelector}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{120     \textcolor{keyword}{public}:}
\DoxyCodeLine{121         VSSSelectorType GetType()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{122             \textcolor{keywordflow}{return} VSSSelectorType::GenericSelector;}
\DoxyCodeLine{123         \}}
\DoxyCodeLine{124     \};}
\DoxyCodeLine{125     \textcolor{keyword}{class }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_fake_element_selector}{VSSFakeElementSelector}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{126     \textcolor{keyword}{public}:}
\DoxyCodeLine{127         std::wstring ElementTag;}
\DoxyCodeLine{128         std::wstring FakeElementTag;}
\DoxyCodeLine{129 }
\DoxyCodeLine{130     \textcolor{keyword}{public}:}
\DoxyCodeLine{131         VSSSelectorType GetType()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{132             \textcolor{keywordflow}{return} VSSSelectorType::FakeElementSelector;}
\DoxyCodeLine{133         \}}
\DoxyCodeLine{134     \};}
\DoxyCodeLine{135     \textcolor{keyword}{class }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_fake_element_with_class_selector}{VSSFakeElementWithClassSelector}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_basic_selector}{VSSBasicSelector}} \{}
\DoxyCodeLine{136     \textcolor{keyword}{public}:}
\DoxyCodeLine{137         std::wstring ElementTag;}
\DoxyCodeLine{138         std::wstring ClassTag;}
\DoxyCodeLine{139         std::wstring FakeElementTag;}
\DoxyCodeLine{140 }
\DoxyCodeLine{141     \textcolor{keyword}{public}:}
\DoxyCodeLine{142         VSSSelectorType GetType()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{143             \textcolor{keywordflow}{return} VSSSelectorType::FakeElementWithClassSelector;}
\DoxyCodeLine{144         \}}
\DoxyCodeLine{145     \};}
\DoxyCodeLine{146 }
\DoxyCodeLine{147     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_v_s_s_1_1_v_s_s_parser_error}{VSSParserError}} \{}
\DoxyCodeLine{148         std::wstring ErrorInformation;}
\DoxyCodeLine{149         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ErrorLine = 0;}
\DoxyCodeLine{150     \};}
\DoxyCodeLine{151 }
\DoxyCodeLine{152     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_v_s_s_1_1_v_s_s_parser_result}{VSSParserResult}} \{}
\DoxyCodeLine{153         std::vector<VSSBasicSelector*> SelectorSet;}
\DoxyCodeLine{154 }
\DoxyCodeLine{155         \mbox{\hyperlink{struct_v_s_s_1_1_v_s_s_parser_error}{VSSParserError}}                  ErrorInfo;}
\DoxyCodeLine{156         VVVSParserStatus                ParserStatus = VVVSParserStatus::Ok;}
\DoxyCodeLine{157     \};}
\DoxyCodeLine{158 }
\DoxyCodeLine{159     \textcolor{keyword}{class }\mbox{\hyperlink{class_v_s_s_1_1_v_s_s_parser}{VSSParser}} \{}
\DoxyCodeLine{160     \textcolor{keyword}{private}:}
\DoxyCodeLine{161         VKits::seal\_lexical* ParserLexical;}
\DoxyCodeLine{162 }
\DoxyCodeLine{163         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}         BaseLine = 0;}
\DoxyCodeLine{164 }
\DoxyCodeLine{165     \textcolor{keyword}{private}:}
\DoxyCodeLine{166         std::map<std::wstring, VSSSelectorProperty> ParserProperty(\textcolor{keyword}{const} std::wstring\& PropertyString, \mbox{\hyperlink{struct_v_s_s_1_1_v_s_s_parser_result}{VSSParserResult}}* Result);}
\DoxyCodeLine{167 }
\DoxyCodeLine{168     \textcolor{keyword}{private}:}
\DoxyCodeLine{169         \textcolor{keywordtype}{void} ThrowError(\mbox{\hyperlink{struct_v_s_s_1_1_v_s_s_parser_result}{VSSParserResult}}* Result, \textcolor{keyword}{const} std::wstring\& ErrorString) \{}
\DoxyCodeLine{170             (*Result).ParserStatus = VVVSParserStatus::Error;}
\DoxyCodeLine{171             (*Result).ErrorInfo    = \{ ErrorString, BaseLine + ParserLexical-\/>get\_line() + 1 \};}
\DoxyCodeLine{172         \}}
\DoxyCodeLine{173 }
\DoxyCodeLine{174     \textcolor{keyword}{private}:}
\DoxyCodeLine{175         std::wstring GetPropertyString(\mbox{\hyperlink{struct_v_s_s_1_1_v_s_s_parser_result}{VSSParserResult}}* Result) \{}
\DoxyCodeLine{176             std::wstring PropertyString;}
\DoxyCodeLine{177             \textcolor{keywordtype}{bool}         EndFlag = \textcolor{keyword}{false};}
\DoxyCodeLine{178             \mbox{\hyperlink{struct_v_kits_1_1__lexical__info_1_1__lexical__token__type}{VKits::seal\_lexical\_type\_info::seal\_lexical\_token}}}
\DoxyCodeLine{179                     Token;}
\DoxyCodeLine{180 }
\DoxyCodeLine{181             \textcolor{keywordflow}{while} (!ParserLexical-\/>is\_eof()) \{}
\DoxyCodeLine{182                 Token = ParserLexical-\/>get\_token();}
\DoxyCodeLine{183 }
\DoxyCodeLine{184                 \textcolor{keywordflow}{if} (Token.token\_string == L\textcolor{stringliteral}{"{}\}"{}}) \{}
\DoxyCodeLine{185                     EndFlag = \textcolor{keyword}{true};}
\DoxyCodeLine{186 }
\DoxyCodeLine{187                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{188                 \}}
\DoxyCodeLine{189 }
\DoxyCodeLine{190                 PropertyString.append(Token.token\_string + L\textcolor{stringliteral}{"{} "{}});}
\DoxyCodeLine{191             \}}
\DoxyCodeLine{192 }
\DoxyCodeLine{193             \textcolor{keywordflow}{if} (EndFlag == \textcolor{keyword}{false}) \{}
\DoxyCodeLine{194                 ThrowError(Result, L\textcolor{stringliteral}{"{}Couldn't Found the Match Symbol Of \(\backslash\)"{}\{\(\backslash\)"{}"{}});}
\DoxyCodeLine{195 }
\DoxyCodeLine{196                 \textcolor{keywordflow}{return} PropertyString;}
\DoxyCodeLine{197             \}}
\DoxyCodeLine{198 }
\DoxyCodeLine{199             \textcolor{keywordflow}{return} PropertyString;}
\DoxyCodeLine{200         \}}
\DoxyCodeLine{201 }
\DoxyCodeLine{202     \textcolor{keyword}{public}:}
\DoxyCodeLine{203         \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_parser}{VSSParser}}(\textcolor{keyword}{const} std::wstring\& VSString, VVVSParserParseMode VVSParserMode = VVVSParserParseMode::FromString, \textcolor{keyword}{const} \textcolor{keywordtype}{int}\& Line = 0);}
\DoxyCodeLine{204         \mbox{\hyperlink{class_v_s_s_1_1_v_s_s_parser}{\string~VSSParser}}();}
\DoxyCodeLine{205 }
\DoxyCodeLine{206         \mbox{\hyperlink{struct_v_s_s_1_1_v_s_s_parser_result}{VSSParserResult}} ParseVSS();}
\DoxyCodeLine{207     \};}
\DoxyCodeLine{208 \}}
\DoxyCodeLine{209 }
\DoxyCodeLine{210 VLIB\_END\_NAMESPACE}

\end{DoxyCode}
