<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>vuilib document: quickstart</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">vuilib document
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">quickstart </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div align="center"> <img src="../src/logo.png" alt="" class="inline"/> <h1>VuiLib[VML] 快速上手：使用 VML 快速构建软件布局</h1>
</div><div align="center"> </div><blockquote class="doxtable">
<p >&zwj;该部分将会通过 VuiLib 中的 VML 快速构建一个软件的布局</p>
<p >本教程的完整 VML 源码可以在 doc/code/vml-start 找到 </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md0"></a>
第一步：认识 VML</h2>
<p >VML 是基于 XML 改造而来的语言，可以让你快速的构造软件的布局，一个基础的 VML 节点如下定义： </p><div class="fragment"><div class="line"><span class="comment">&lt;!--</span></div>
<div class="line"><span class="comment">    type   : 控件类型 例如: pushbutton</span></div>
<div class="line"><span class="comment">    x, y, </span></div>
<div class="line"><span class="comment">    width, </span></div>
<div class="line"><span class="comment">    height : 控件几何信息 （必须为数字或富属性内容）</span></div>
<div class="line"><span class="comment">--&gt;</span></div>
<div class="line">&lt;<span class="keywordtype">tag</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;control-type&quot;</span> <span class="keyword">x</span>=<span class="stringliteral">&quot;x&quot;</span> <span class="keyword">y</span>=<span class="stringliteral">&quot;y&quot;</span> <span class="keyword">width</span>=<span class="stringliteral">&quot;width&quot;</span> <span class="keyword">height</span>=<span class="stringliteral">&quot;height&quot;</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">tag</span>&gt;</div>
</div><!-- fragment --><p> type、x、y、width、height 这五个属性是构成一个控件的五要素，这五个属性中最重要的是 type 属性，指定控件的类型。</p>
<p >而对于 VML 的显示，可以在 C++ 层使用 <a class="el" href="class_v_m_l_1_1_v_m_l_widget.html">VML::VMLWidget</a> 来调用显示，如下所示： </p><div class="fragment"><div class="line"> {C++}</div>
<div class="line">#include &quot;./include/core/render/vpainter.h&quot;</div>
<div class="line">#include &quot;./include/core/widget/vwidget.h&quot;</div>
<div class="line"> </div>
<div class="line">#include &quot;./include/vml/vmlwidget.h&quot;</div>
<div class="line"> </div>
<div class="line">int main() {</div>
<div class="line">    using namespace Core;</div>
<div class="line">    using namespace VML;</div>
<div class="line">    using namespace VSS;</div>
<div class="line"> </div>
<div class="line">    VApplication Application;</div>
<div class="line"> </div>
<div class="line">    VMLWidget VMLWidget(0, 0, &amp;Application, true);</div>
<div class="line">    auto      Result = VMLWidget.LoadVML(L&quot;./testvml.xml&quot;, VMLParserParseMode::FromFile);</div>
<div class="line"> </div>
<div class="line">    return Application.Exec();</div>
<div class="line">}</div>
</div><!-- fragment --><p> 而如果是我们在开发过程中，则可以使用仓库目录里 toolchain 下的 vmlviewer_x64.exe 使用如下方法来预览你的 VML： </p><div class="fragment"><div class="line">vmlviewer.exe ${vmlfilepath}</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md1"></a>
第二步：开始使用 VML 构建第一个窗口</h2>
<p >你已经了解了基本语法，接下来，开始使用 VML 来构造第一个窗口吧，VMainWindow 的 VMLType 是 mainwindow，并且接受 title 属性设置标题，sizable 属性设置是否拖拽缩放大小，所以我们可以这么写 VML 来构造窗口： </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">vml-window</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;mainwindow&quot;</span> <span class="keyword">title</span>=<span class="stringliteral">&quot;Hello VML!&quot;</span> <span class="keyword">width</span>=<span class="stringliteral">&quot;680&quot;</span> <span class="keyword">height</span>=<span class="stringliteral">&quot;320&quot;</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">vml-window</span>&gt;</div>
</div><!-- fragment --><p> 接下来，使用 vmlviewer.exe 打开这个 VML 文件，如果工作正常，那么会出现一个宽为 680，高为 320 的窗口，如果是这样，恭喜你，成功使用 VML 创建了第一个你的窗口！ </p>
<h2><a class="anchor" id="autotoc_md2"></a>
第三步：添加文本框控件</h2>
<p >既然这个窗口还什么都没有，我们不妨给它加入一个文本框，让它显示 Hello World，VTextLabel 的 VMLType 是 textlabel，支持 text 属性输入文本，那么我们就可以这样子定义我们的 Hello World 文本： </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">hello-world-text</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;textlabel&quot;</span> <span class="keyword">text</span>=<span class="stringliteral">&quot;Hello World!&quot;</span> <span class="keyword">width</span>=<span class="stringliteral">&quot;80&quot;</span> <span class="keyword">height</span>=<span class="stringliteral">&quot;20&quot;</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">hello-world-text</span>&gt;</div>
</div><!-- fragment --><p> 接下来，在使用 vmlviewer_x64.exe 打开预览这个 VML，您将会在左上角看到一行灰色的 Hello World! 如果无误的话，恭喜你成功使用 VML 做出了一个 Hello World </p>
<h2><a class="anchor" id="autotoc_md3"></a>
第四步：使用富属性创建相对位置布局</h2>
<p >但是我们发现我们的 Hello World! 在左上角，并不明显，如何让他居中，这里提供一个方法：富属性，在 VML 中，富属性就是为了相对布局而生，其提供了一个非常优雅的方式来让用户可以快速进行布局操作，例如把 Hello World! 文本居中，只需要这么写： </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">hello-world-text</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;textlabel&quot;</span> <span class="keyword">text</span>=<span class="stringliteral">&quot;Hello World!&quot;</span> <span class="keyword">width</span>=<span class="stringliteral">&quot;80&quot;</span> <span class="keyword">height</span>=<span class="stringliteral">&quot;20&quot;</span> <span class="keyword">x</span>=<span class="stringliteral">&quot;@center&quot;</span> <span class="keyword">y</span>=<span class="stringliteral">&quot;@center&quot;</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">hello-world-text</span>&gt;</div>
</div><!-- fragment --><p> 再次使用 vmlviewer_x64.exe 预览，就会发现 Hello World! 居中显示，富属性的相对布局，是相对于该节点的父节点而言（窗口无法使用富布局）除此以外，还可以使用例如 @scale @fill 的富属性控制长宽，@relative 控制相对 x、y，@middleoffset 控制中心位移 x、y，这里不多做赘述。 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
